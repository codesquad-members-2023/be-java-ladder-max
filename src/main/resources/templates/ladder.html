<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>사다리 게임</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <link crossorigin="anonymous"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
        rel="stylesheet">
  <script crossorigin="anonymous"
          integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
          src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>
<div>
  <label>사다리 게임 결과</label>
  <!--사다리 참여 이름 -->
  <div>
    <span th:each="name : ${names}" th:text="${name}"/>
  </div>

  <!--사다리 -->
  <div th:each="line : ${ladder}">
    <span th:each="point : ${line}" th:text="${point}"/>
  </div>

  <!--사다리 도착 결과 -->
  <div>
    <span th:each="dst : ${destinations}" th:text="${dst}"/>
  </div>

  <!-- 전체 결과 -->
  <div th:each="ladderResult : ${ladderResults}">
    <span th:text="${ladderResult}"/>
  </div>

  <canvas id="ladder-canvas"></canvas>

  <script th:inline="javascript">
    // canvas 요소를 가져옵니다.
    const canvas = document.getElementById("ladder-canvas");
    // 컨텍스트를 가져옵니다.
    const ctx = canvas.getContext("2d");

    // 가로줄 개수와 세로줄 개수를 지정합니다.

    const rows = 5
    const cols = 6;

    // 가로줄과 세로줄의 간격을 지정합니다.
    const lineWidth = 2;
    const gap = 30;

    // 캔버스의 너비와 높이를 계산합니다.
    const canvasWidth = cols * gap + lineWidth;
    const canvasHeight = rows * gap + lineWidth;

    // 캔버스의 너비와 높이를 설정합니다.
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;

    // 사다리 그리기
    ctx.beginPath();
    for (let i = 0; i < rows; i++) {
      for (let j = 0; j < cols; j++) {
        if (i === 0) {

        }
        // 가로줄 그리기
        ctx.moveTo(j * gap, (i + 1) * gap);
        ctx.lineTo((j + 1) * gap, (i + 1) * gap);
        // 세로줄 그리기
        ctx.moveTo((j + 1) * gap, i * gap);
        ctx.lineTo((j + 1) * gap, (i + 1) * gap);
      }
    }
    ctx.lineWidth = lineWidth;
    ctx.stroke();
  </script>
</div>
</body>
</html>
